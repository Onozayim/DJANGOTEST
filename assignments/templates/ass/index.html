{% extends "base.html" %}

{% block content %}

{% include "navbar.html" %}
<header class="py-3 mb-4 border-bottom border-3">
  <div class="row m-auto" style="width: 95%;">
    <div class="col-md-10">
      <h2 href="/" class="d-flex align-items-end mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none">
        Materias
      </h2>
    </div>

    <div class="col-md-2">
      <form class="col-12 col-lg-auto mb-3 mb-lg-0" method="GET" role="search">
        <input type="search" name="titulo" class="form-control" placeholder="Titulo..." aria-label="Search">
      </form>
    </div>
  </div>
</header>

<div class="container">
  <div class="row justify-content-md-center align-items-center mt-3 mb-3 bg-light p-3 rounded-3 shadow-lg">
    <div class="col-md-6 col-lg-4">
      <a href="{% url "ass_create" %}" class="text-decoration-none text-dark w-100 ">
        <div class="card bg-dark custom-cards my-3 border-0 shadow-lg custom-card">
          <div class="card-thumbnail bg-dark">
            <img
              src="https://images.unsplash.com/photo-1477862096227-3a1bb3b08330?ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60"
              class="img-fluid w-100 rounded-1" alt="thumbnail" style="aspect-ratio: 4 / 3; object-fit: fill;">
          </div>
          <div class="card-body bg-white">
            <h5 class="card-title fw-bold text-center">AGREGAR MATERIA</h5>
            <p class="card-text"></p>
          </div>
        </div>
      </a>
    </div>

    {% for assig in page_obj %}
    <div class="col-md-6 col-lg-4">
      <a href="{% url "tasks_index" assig.id %}" class="text-decoration-none text-dark w-100">
        <div class="card bg-dark custom-cards my-3 shadow-lg border-0 custom-card">
          <div class="card-thumbnail bg-dark">
            <img {% if assig.image %} src="{{MEDIA_URL}}{{assig.image}}" {% else %}
              src="https://images.unsplash.com/photo-1477862096227-3a1bb3b08330?ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60"
              {% endif %} style="aspect-ratio: 4 / 3; object-fit: cover;" class="img-fluid w-100" alt="thumbnail">
          </div>
          <div class="card-body bg-light">
            <h5 class="card-title fw-bold border-bottom border-2">{{assig.title|upper}}</h5>
            <p class="card-text one-line">{{assig.teacher}}</p>
            <p class="card-text text-end fst-italic">0/100</p>
          </div>
        </div>
      </a>
    </div>
    {% endfor %}
  </div>
</div>

{% include "paginator.html" %}
{% endblock content %}